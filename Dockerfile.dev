# Development: только зависимости и конфиги, код монтируется volume
FROM node:20-alpine

WORKDIR /usr/src/app

ENV NODE_ENV=development

COPY package.json package-lock.json* ./
RUN npm install

COPY prisma ./prisma/
RUN npx prisma generate

COPY tsconfig.json tsconfig.build.json nest-cli.json ./
COPY src ./src

EXPOSE 3000

CMD ["npm", "run", "start:dev"]
